<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a4j="https://ajax4jsf.dev.java.net/ajax"
	xmlns:rich="http://richfaces.ajax4jsf.org/rich"
	template="#{theme.template2cols}">

	<ui:define name="pagetabs">
		<ui:include src="#{theme.pagetabs}">
			<ui:param name="activeTab" value="admin" />
		</ui:include>
	</ui:define>

	<ui:define name="title">
		<title>#{messages['admin.shopping.shops.browserTitle']}</title>
	</ui:define>

	<ui:define name="main">
		<style>
<!--
.leftColumn {
	vertical-align: top;
}

.rightColumn {
	vertical-align: top;
}
-->
</style>

		<rich:panel bodyClass="inpanelBody">
			<f:facet name="header">Shop bearbeiten</f:facet>

			<h:form>
				<f:facet name="aroundInvalidField">
					<s:span styleClass="error" />
				</f:facet>

				<h:panelGrid columns="2" columnClasses="leftColumn,rightColumn">

					<h:panelGroup>

						<p><h:outputLabel for="name"
							value="Vollstaendiger Name (bei Filiale mit Stadt und ggf. Standort)"
							class="required" /> <br />
						<s:decorate>
							<h:inputText value="#{shop.name}" size="40" id="name"
								required="true">
								<s:validate />
							</h:inputText>
							<br />
							<h:message for="name" />
						</s:decorate></p>

						<p><h:outputLabel for="street" value="Strasse mit Hausnr." />
						<br />
						<s:decorate>
							<h:inputText value="#{shop.street}" size="40" id="street">
								<s:validate />
							</h:inputText>
						</s:decorate></p>

						<p><h:outputLabel for="plz" value="PLZ" /> <br />
						<s:decorate>
							<h:inputText value="#{shop.plz}" size="40" id="plz">
								<s:validate />
							</h:inputText>
						</s:decorate></p>

						<p><h:outputLabel for="city" value="Stadt" /> <br />
						<s:decorate>
							<h:inputText value="#{shop.city}" size="40" id="city">
								<s:validate />
							</h:inputText>
						</s:decorate></p>

						<p><h:outputLabel for="store"
							value="Adresse ist Ladengeschaeft" /> <br />
						<h:selectOneRadio id="store" value="#{shop.store}"
							style="width:100px;">
							<f:selectItem itemValue="true"
								itemLabel="#{messages['general.yes']}" />
							<f:selectItem itemValue="false"
								itemLabel="#{messages['general.no']}" />
						</h:selectOneRadio></p>

					</h:panelGroup>

					<h:panelGroup>

						<p><h:outputLabel for="onlineshop"
							value="Filiale verkauft online" /> <br />
						<h:selectOneRadio id="onlineshop" value="#{shop.onlineShop}"
							style="width:100px;">
							<f:selectItem itemValue="true"
								itemLabel="#{messages['general.yes']}" />
							<f:selectItem itemValue="false"
								itemLabel="#{messages['general.no']}" />
						</h:selectOneRadio></p>

						<p><h:outputLabel for="porto" value="Standardporto fuer DVD" />
						<br />
						<s:decorate>
							<h:inputText value="#{shop.pp}" size="20" id="porto">
								<s:validate />
							</h:inputText>
						</s:decorate></p>

						<p><h:outputLabel for="portoFree"
							value="Portofrei ab Bestellwert" /> <br />
						<s:decorate>
							<h:inputText value="#{shop.portoFree}" size="20" id="portoFree">
								<s:validate />
							</h:inputText>
						</s:decorate></p>

						<p><h:outputLabel for="url" value="Website (Optional bei Filialen)" /> <br />
						<s:decorate>
							<h:inputText value="#{shop.urlSite}" size="40" id="url">
								<s:validate />
							</h:inputText>
						</s:decorate></p>

						<p><h:outputLabel for="urlLogo" value="Logo URL (Optional bei Filialen)" /> <br />
						<s:decorate>
							<h:inputText value="#{shop.urlLogo}" size="40" id="urlLogo">
								<s:validate />
							</h:inputText>
						</s:decorate></p>

						<p><h:outputLabel for="priceFetcher" value="Preis Robot (INTERN)" /> <br />
						<s:decorate>
							<h:inputText value="#{shop.priceFetcherComponentName}" size="40" id="priceFetcher">
								<s:validate />
							</h:inputText>
						</s:decorate></p>
					</h:panelGroup>
				</h:panelGrid>

				<div class="actions"><s:button
					view="/admin/shopping/shops.xhtml" value="Abbrechen" /> <h:commandButton
					value="Speichern" action="#{shopHome.persist}"
					rendered="#{!shopHome.managed}">
					<s:conversationPropagation type="none"/> 
				</h:commandButton> <h:commandButton value="Speichern" action="#{shopHome.update}"
					rendered="#{shopHome.managed}" /> <h:commandButton
					value="Loeschen" action="#{shopHome.remove}"
					rendered="#{shopHome.managed}" /></div>
			</h:form>

		</rich:panel>



	</ui:define>

	<ui:define name="sidebar_left">
		<div class="sidebar_left"><ui:include
			src="/admin/inc/sectionactions.xhtml" /></div>
		<!-- /sidebar_left -->
	</ui:define>

</ui:composition>
