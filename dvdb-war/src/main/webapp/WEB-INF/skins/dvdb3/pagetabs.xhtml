<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:f="http://java.sun.com/jsf/core">

	<ul id="projects" class="clearfix">
		<s:fragment rendered="#{activeTab eq 'home'}">
			<li class="selected"><s:link value="#{messages['pagetab.home']}"
				propagation="none" view="/index.xhtml"
				title="#{messages['application.site']} - #{applicationSettings.seoSecondaryKeyword}" /></li>
		</s:fragment>

		<s:fragment rendered="#{activeTab ne 'home'}">
			<li><s:link value="#{messages['pagetab.home']}"
				propagation="none" view="/index.xhtml"
				title="#{messages['application.site']} - #{applicationSettings.seoSecondaryKeyword}" /></li>
		</s:fragment>

		<s:fragment rendered="#{activeTab eq 'discover'}">
			<li class="selected"><s:link
				value="#{messages['pagetab.discover']}" propagation="none"
				view="/discover/dvd/newSearch.xhtml"
				title="#{messages['pagetab.discover']} - #{applicationSettings.seoSecondaryKeyword}" /></li>
		</s:fragment>

		<s:fragment rendered="#{activeTab ne 'discover'}">
			<li><s:link value="#{messages['pagetab.discover']}"
				propagation="none"
				title="#{messages['pagetab.discover']} - #{applicationSettings.seoSecondaryKeyword}"
				view="/discover/dvd/newSearch.xhtml" /></li>
		</s:fragment>

		<s:fragment rendered="#{activeTab eq 'blog'}">
			<li class="selected"><s:link value="#{messages['pagetab.blog']}"
				title="#{messages['pagetab.blog']} - #{applicationSettings.seoSecondaryKeyword}"
				propagation="none" view="/blog/" /></li>
		</s:fragment>

		<s:fragment rendered="#{activeTab ne 'blog'}">
			<li><s:link value="#{messages['pagetab.blog']}"
				title="#{messages['pagetab.blog']} - #{applicationSettings.seoSecondaryKeyword}"
				propagation="none" view="/blog/" /></li>
		</s:fragment>

		<s:fragment rendered="#{actor.anonymous}">
			<li><s:link view="/signup.xhtml" propagation="none"
				value="Deine Moviebase">
			</s:link></li>
		</s:fragment>

		<s:fragment
			rendered="#{!actor.anonymous and (activeTab ne 'mediabase' or actor.user ne mediabase.user)}">
			<li><s:link view="/mb/index.xhtml" propagation="none"
				value="Deine Moviebase">
				<f:param name="username" value="#{actor.user.username}" />
			</s:link></li>
		</s:fragment>

		<s:fragment
			rendered="#{activeTab eq 'mediabase' and actor.user eq mediabase.user}">
			<li class="selected"><s:link view="/mb/index.xhtml"
				propagation="none" value="Deine Moviebase">
				<f:param name="username" value="#{actor.user.username}" />
			</s:link></li>
		</s:fragment>

		<s:fragment rendered="#{activeTab ne 'manage'}">
			<li><s:link value="#{messages['pagetab.manage']}"
				title="#{messages['pagetab.manage']} - #{applicationSettings.seoSecondaryKeyword}"
				propagation="none" view="/manage/collection.xhtml" /></li>
		</s:fragment>

		<s:fragment rendered="#{activeTab eq 'manage'}">
			<li class="selected"><s:link value="#{messages['pagetab.manage']}"
				title="#{messages['pagetab.manage']} - #{applicationSettings.seoSecondaryKeyword}"
				propagation="none" view="/manage/collection.xhtml" /></li>
		</s:fragment>

		<s:fragment rendered="#{activeTab eq 'social'}">
			<li class="selected"><s:link value="#{messages['pagetab.social']}"
				title="#{messages['pagetab.social']} - #{applicationSettings.seoSecondaryKeyword}"
				propagation="none" view="/social/pm/inbox.xhtml" /></li>
		</s:fragment>

		<s:fragment rendered="#{activeTab ne 'social'}">
			<li><s:link value="#{messages['pagetab.social']}"
				title="#{messages['pagetab.social']} - #{applicationSettings.seoSecondaryKeyword}"
				propagation="none" view="/social/pm/inbox.xhtml" /></li>
		</s:fragment>

		<s:fragment rendered="#{activeTab eq 'community'}">
			<li class="selected"><a href="http://www.dvdb.de/forum/"><h:outputText
				title="#{messages['pagetab.community']} - #{applicationSettings.seoSecondaryKeyword}"
				value="#{messages['pagetab.community']}" /></a></li>
		</s:fragment>

		<s:fragment rendered="#{activeTab ne 'community'}">
			<li><a href="http://www.dvdb.de/forum/"><h:outputText
				title="#{messages['pagetab.community']} - #{applicationSettings.seoSecondaryKeyword}"
				value="#{messages['pagetab.community']}" /></a></li>
		</s:fragment>

		<s:fragment
			rendered="#{activeTab eq 'admin' and s:hasRole('superuser')}">
			<li class="selected"><s:link value="#{messages['pagetab.admin']}"
				propagation="none" view="/admin/user.xhtml" /></li>
		</s:fragment>

		<s:fragment
			rendered="#{activeTab ne 'admin' and s:hasRole('superuser')}">
			<li><s:link value="A"
				propagation="none" view="/admin/user.xhtml" /></li>
		</s:fragment>

	</ul>

</ui:composition>


